name: weekend discord greeting - rotating (english-first)

on:
  schedule:
    # 07:00 WIB (00:00 UTC) - weekends only
    - cron: '0 0 * * 6,0'
    # 12:00 WIB (05:00 UTC)
    - cron: '0 5 * * 6,0'
    # 17:00 WIB (10:00 UTC)
    - cron: '0 10 * * 6,0'
    # 22:00 WIB (15:00 UTC)
    - cron: '0 15 * * 6,0'

  workflow_dispatch:
    inputs:
      greeting_type:
        description: 'select greeting type (weekend)'
        required: true
        default: 'morning'
        type: choice
        options:
          - morning
          - afternoon
          - evening
          - night

jobs:
  send-greeting:
    runs-on: ubuntu-latest
    steps:
      - name: send morning greeting (weekend, rotating)
        if: (github.event_name == 'workflow_dispatch' && github.event.inputs.greeting_type == 'morning') || github.event.schedule == '0 0 * * 6,0'
        run: |
          TIMESTAMP=$(date -u +%Y-%m-%dT%H:%M:%S.000Z)

          TITLES=(
            "ğŸŒ… weekend mode on â€” jangan buru-buru, rileks dulu"
            "ğŸ›Œ alarm off, hidup on â€” santai woy"
            "â˜€ï¸ pagi santuy, kopi santuy, vibe santuy"
            "ğŸ® pagi weekend: login yang penting, bukan logika"
            "ğŸ˜´ rebahan is content â€” approved"
            "ğŸŒ„ slow morning, big vibe"
          )

          DESCS=(
            "yo weekend warriors! no alarms, no stress â€” rebahan is the endgame today. bangun siang? gapapa bro, asal jangan skip makan, anying ğŸ˜´\\n> by server dev - <@399393175904714752>"
            "good morning fam! lowkey today is for soft launch only â€” jalanin pelan, jangan jadi npc ngantuk doang kocak â˜•\\n> by server dev - <@399393175904714752>"
            "gm squad! new day same chill â€” mandi opsional, sarapan wajib. jangan sok produktif, nanti kena karma monday fr ğŸ˜‚\\n> by server dev - <@399393175904714752>"
            "morning gang! touch grass or touch rank, pilih satu dulu. yang penting happy, bukan heboh, anjir ğŸŒ¿\\n> by server dev - <@399393175904714752>"
            "top of the morning brodie! weekend tuh patch khusus: buff ketawa, nerf drama. nikmatin aja dulu lah ğŸ˜Œ\\n> by server dev - <@399393175904714752>"
            "good morning legends! \"gak tamat gak asik!\" (Windut) â€” tapi tamatnya boleh tamat tidur siang juga sih ğŸ˜´\\n> by server dev - <@399393175904714752>"
          )

          FOOTERS=(
            "weekend mode: ON"
            "santuy, boss!"
            "rebahan authorized"
            "slow but happy"
            "GG ez weekend"
            "no rush, just vibes"
          )

          INDEX=$((RANDOM % 6))

          cat > payload.json << EOF
          {
            "embeds": [{
              "title": "${TITLES[$INDEX]}",
              "description": "${DESCS[$INDEX]}",
              "color": 16766720,
              "thumbnail": {
                "url": "https://cdn.discordapp.com/attachments/1365248252009644053/1407333123791786077/logo_anim.gif?ex=68a5b89b&is=68a4671b&hm=2bc283716f14281f2518ac14003d41ca9fd58200a446e21a7682d2cdb6b4f38b"
              },
              "footer": {
                "text": "${FOOTERS[$INDEX]}",
                "icon_url": "https://files.catbox.moe/npfh4e.jpg"
              },
              "timestamp": "$TIMESTAMP"
            }]
          }
          EOF

          curl -sS -X POST "${{ secrets.DISCORD_WEBHOOK_URL }}" -H "Content-Type: application/json" --data @payload.json

      - name: send afternoon greeting (weekend, rotating)
        if: (github.event_name == 'workflow_dispatch' && github.event.inputs.greeting_type == 'afternoon') || github.event.schedule == '0 5 * * 6,0'
        run: |
          TIMESTAMP=$(date -u +%Y-%m-%dT%H:%M:%S.000Z)

          TITLES=(
            "ğŸ” siang santai, perut kenyang, hati senang"
            "ğŸŒ weekend lunch buff â€” claim now"
            "ğŸ˜ half-day done, full-chill ahead"
            "ğŸ§ siangÂ² enaknya ngemil + nge-meme"
            "ğŸ¥¤ hydrate dulu, gosip nanti"
            "ğŸ›‹ï¸ post-lunch nap is meta"
          )

          DESCS=(
            "whatâ€™s good squad! half the day cooked â€” refill energy dulu. makan siang itu buff utama, bukan side quest, anying ğŸ”\\n> by server dev - <@399393175904714752>"
            "yo fam! siang gini enaknya makan trus rebahan 15 menit â€” bukan koma 5 jam ya, kocak ğŸ˜´\\n> by server dev - <@399393175904714752>"
            "good afternoon gamers! hydrate or diedrate â€” minum dulu, baru lanjut mabar. jangan salty garaÂ² lapar fr ğŸ¥¤\\n> by server dev - <@399393175904714752>"
            "sup team! weekend tuh bukan kompetisi produktif â€” enjoy dulu, produktifnya ngelawak aja di vc ğŸ˜‚\\n> by server dev - <@399393175904714752>"
            "hey brodie! kalau perut kosong, aim pasti goyang â€” isi dulu biar malem ga tepar, anjir\\n> by server dev - <@399393175904714752>"
            "afternoon gang! \"makan, jangan makan temen.\" (Windut) â€” tapi kalo makan bareng sih hayuk ğŸ”¥\\n> by server dev - <@399393175904714752>"
          )

          FOOTERS=(
            "santai sejenak"
            "recharge dulu"
            "makan dulu, boss!"
            "stay chill"
            "stay hydrated"
            "weekend vibes"
          )

          INDEX=$((RANDOM % 6))

          cat > payload.json << EOF
          {
            "embeds": [{
              "title": "${TITLES[$INDEX]}",
              "description": "${DESCS[$INDEX]}",
              "color": 16763904,
              "thumbnail": {
                "url": "https://cdn.discordapp.com/attachments/1365248252009644053/1407333123791786077/logo_anim.gif?ex=68a5b89b&is=68a4671b&hm=2bc283716f14281f2518ac14003d41ca9fd58200a446e21a7682d2cdb6b4f38b"
              },
              "footer": {
                "text": "${FOOTERS[$INDEX]}",
                "icon_url": "https://files.catbox.moe/npfh4e.jpg"
              },
              "timestamp": "$TIMESTAMP"
            }]
          }
          EOF

          curl -sS -X POST "${{ secrets.DISCORD_WEBHOOK_URL }}" -H "Content-Type: application/json" --data @payload.json

      - name: send evening greeting (weekend, rotating)
        if: (github.event_name == 'workflow_dispatch' && github.event.inputs.greeting_type == 'evening') || github.event.schedule == '0 10 * * 6,0'
        run: |
          TIMESTAMP=$(date -u +%Y-%m-%dT%H:%M:%S.000Z)

          TITLES=(
            "ğŸŒ† golden hour + good company = w"
            "ğŸŒ… sore santai, drama off"
            "ğŸ® evening queue: chill first, rank later"
            "ğŸ¿ camilan siap, ketawa siap"
            "ğŸµ lagu enak, obrolan receh"
            "ğŸŒ  enjoy dulu, sisanya belakangan"
          )

          DESCS=(
            "good evening gamers! vibe check dulu â€” sunset hits different brodie. santai bentar biar ga tilt, feeding itu dosa sosial anjir ğŸ˜‚\\n> by server dev - <@399393175904714752>"
            "yo evening fam! log off pelanÂ², nyalain musik, mute drama. weekend tuh untuk war yang fun, bukan debat kusir anying ğŸ§\\n> by server dev - <@399393175904714752>"
            "evening squad! ganti playlist, cemil dikit, lanjut mabar. lose streak? break dulu 10 menit, jangan nekat uninstall kocak ğŸ¤¡\\n> by server dev - <@399393175904714752>"
            "whatâ€™s poppin gang! ketawa tipis, ngobrol receh â€” mmr turun ga sekejam komentar netizen kok fr ğŸ˜Œ\\n> by server dev - <@399393175904714752>"
            "good evening team! \"jangan panik, ini cuma game.\" (Windut) â€” kalo lagi apes, jadi penonton lucu aja dulu ğŸ˜®â€ğŸ’¨\\n> by server dev - <@399393175904714752>"
            "evening folks! jangan jadi hero sendirian, ajak temen â€” kalo kalah, kalah bareng lebih lucu, anying ğŸ˜‚\\n> by server dev - <@399393175904714752>"
          )

          FOOTERS=(
            "chill vibes only"
            "rest & recharge"
            "malam ini milik kita"
            "santai sejenak"
            "waktunya nge-game"
            "ggwp"
          )

          INDEX=$((RANDOM % 6))

          cat > payload.json << EOF
          {
            "embeds": [{
              "title": "${TITLES[$INDEX]}",
              "description": "${DESCS[$INDEX]}",
              "color": 16744448,
              "thumbnail": {
                "url": "https://cdn.discordapp.com/attachments/1365248252009644053/1407333123791786077/logo_anim.gif?ex=68a5b89b&is=68a4671b&hm=2bc283716f14281f2518ac14003d41ca9fd58200a446e21a7682d2cdb6b4f38b"
              },
              "footer": {
                "text": "${FOOTERS[$INDEX]}",
                "icon_url": "https://files.catbox.moe/npfh4e.jpg"
              },
              "timestamp": "$TIMESTAMP"
            }]
          }
          EOF

          curl -sS -X POST "${{ secrets.DISCORD_WEBHOOK_URL }}" -H "Content-Type: application/json" --data @payload.json

      - name: send night greeting (weekend, rotating)
        if: (github.event_name == 'workflow_dispatch' && github.event.inputs.greeting_type == 'night') || github.event.schedule == '0 15 * * 6,0'
        run: |
          TIMESTAMP=$(date -u +%Y-%m-%dT%H:%M:%S.000Z)

          TITLES=(
            "ğŸŒ™ night vibe: cozy + low noise"
            "ğŸ’¤ tidur boleh, begadang juga boleh (asal kuat)"
            "âœ¨ bintang terang, kuota aman"
            "ğŸš€ day complete â€” next episode tomorrow"
            "ğŸ˜´ rest mode on, fomo off"
            "ğŸŒœ lampu redup, hati adem"
          )

          DESCS=(
            "night night squad! log off, recharge â€” no heroics tonight. hp aja ada low-battery warning anying âš¡ lu juga butuh tidur.\\n> by server dev - <@399393175904714752>"
            "good night fam! save progress, close app â€” bukan close friend. besok lanjut war dengan energi full fr.\\n> by server dev - <@399393175904714752>"
            "sleep tight gamers! jangan bawa rank ke mimpi â€” nanti mimpi dimarahin random, kocak ğŸ˜ª\\n> by server dev - <@399393175904714752>"
            "gn team! \"tidur itu penting, gengs.\" (Windut) â€” tahan dikit lawan fyp, tutup mata dulu baru scroll lagi besok.\\n> by server dev - <@399393175904714752>"
            "rest well brodie! yang belum kelar, besok hajar. malem ini waktunya jadi guling enjoyer, no cap.\\n> by server dev - <@399393175904714752>"
            "good night gang! jangan flex begadang â€” besok malah jadi npc ngantuk, anjir ğŸ˜´\\n> by server dev - <@399393175904714752>"
          )

          FOOTERS=(
            "tidur, cuy"
            "recharge like a legend"
            "mimpi indah"
            "rest well"
            "see u tomorrow"
            "digital detox"
          )

          INDEX=$((RANDOM % 6))

          cat > payload.json << EOF
          {
            "embeds": [{
              "title": "${TITLES[$INDEX]}",
              "description": "${DESCS[$INDEX]}",
              "color": 8947848,
              "thumbnail": {
                "url": "https://cdn.discordapp.com/attachments/1365248252009644053/1407333123791786077/logo_anim.gif?ex=68a5b89b&is=68a4671b&hm=2bc283716f14281f2518ac14003d41ca9fd58200a446e21a7682d2cdb6b4f38b"
              },
              "footer": {
                "text": "${FOOTERS[$INDEX]}",
                "icon_url": "https://files.catbox.moe/npfh4e.jpg"
              },
              "timestamp": "$TIMESTAMP"
            }]
          }
          EOF

          curl -sS -X POST "${{ secrets.DISCORD_WEBHOOK_URL }}" -H "Content-Type: application/json" --data @payload.json
