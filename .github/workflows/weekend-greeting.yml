name: weekend discord greeting â€” bilingual (english-first)

on:
  schedule:
    # 07:00 WIB (00:00 UTC) â€” sat & sun
    - cron: '0 0 * * 6,0'
    # 12:00 WIB (05:00 UTC)
    - cron: '0 5 * * 6,0'
    # 17:00 WIB (10:00 UTC)
    - cron: '0 10 * * 6,0'
    # 22:00 WIB (15:00 UTC)
    - cron: '0 15 * * 6,0'

  workflow_dispatch:
    inputs:
      greeting_type:
        description: 'select greeting type (weekend)'
        required: true
        default: 'morning'
        type: choice
        options:
          - morning
          - afternoon
          - evening
          - night

jobs:
  send-greeting:
    runs-on: ubuntu-latest
    steps:
      - name: send morning greeting (weekend)
        if: github.event.schedule == '0 0 * * 6,0' || (github.event_name == 'workflow_dispatch' && github.event.inputs.greeting_type == 'morning')
        run: |
          TS="$(date -u +%Y-%m-%dT%H:%M:%S.000Z)"
          curl -X POST "${{ secrets.DISCORD_WEBHOOK_URL }}" \
            -H "Content-Type: application/json" \
            -d @- <<JSON
          {
            "embeds": [{
              "title": "ðŸŒ… happy weekend, good morning",
              "description": "[bangun santai aja, bro sis]\\n\\nlow effort wins: 10-min tidy, light stretch, sunlight hit. kalau mau tidur lagi juga gapapa.\\n\\n> soft start, strong mood. | by server dev <@399393175904714752>",
              "color": 16766720,
              "thumbnail": {"url": "https://cdn.discordapp.com/emojis/692428734822645770.gif"},
              "footer": {"text": "weekend pace: santuy tapi happy", "icon_url": "https://cdn.discordapp.com/emojis/692428869338931240.png"},
              "timestamp": "$TS"
            }]
          }
          JSON

      - name: send afternoon greeting (weekend)
        if: github.event.schedule == '0 5 * * 6,0' || (github.event_name == 'workflow_dispatch' && github.event.inputs.greeting_type == 'afternoon')
        run: |
          TS="$(date -u +%Y-%m-%dT%H:%M:%S.000Z)"
          curl -X POST "${{ secrets.DISCORD_WEBHOOK_URL }}" \
            -H "Content-Type: application/json" \
            -d @- <<JSON
          {
            "embeds": [{
              "title": "ðŸŒž weekend midday",
              "description": "[makan enak dulu, baru lanjut seru2an]\\n\\nwatch/read something that sparks you for 30 mins. joy bar naik dulu baru grind.\\n\\n> have fun, tapi pelan pelan. | by server dev <@399393175904714752>",
              "color": 16763904,
              "thumbnail": {"url": "https://cdn.discordapp.com/emojis/692428734822645770.gif"},
              "footer": {"text": "vitamin d + playlist favorit", "icon_url": "https://cdn.discordapp.com/emojis/692428869338931240.png"},
              "timestamp": "$TS"
            }]
          }
          JSON

      - name: send evening greeting (weekend)
        if: github.event.schedule == '0 10 * * 6,0' || (github.event_name == 'workflow_dispatch' && github.event.inputs.greeting_type == 'evening')
        run: |
          TS="$(date -u +%Y-%m-%dT%H:%M:%S.000Z)"
          curl -X POST "${{ secrets.DISCORD_WEBHOOK_URL }}" \
            -H "Content-Type: application/json" \
            -d @- <<JSON
          {
            "embeds": [{
              "title": "ðŸŒ† golden hour vibes",
              "description": "[foto langit dikit, kirim ke chat]\\n\\nstep outside for 10 minutes. breathe. kalau mager, buka jendela juga jadi.\\n\\n> slow it down, nikmatin momennya. | by server dev <@399393175904714752>",
              "color": 16744448,
              "thumbnail": {"url": "https://cdn.discordapp.com/emojis/692428734822645770.gif"},
              "footer": {"text": "sunset therapy, murah meriah", "icon_url": "https://cdn.discordapp.com/emojis/692428869338931240.png"},
              "timestamp": "$TS"
            }]
          }
          JSON

      - name: send night greeting (weekend)
        if: github.event.schedule == '0 15 * * 6,0' || (github.event_name == 'workflow_dispatch' && github.event.inputs.greeting_type == 'night')
        run: |
          TS="$(date -u +%Y-%m-%dT%H:%M:%S.000Z)"
          curl -X POST "${{ secrets.DISCORD_WEBHOOK_URL }}" \
            -H "Content-Type: application/json" \
            -d @- <<JSON
          {
            "embeds": [{
              "title": "ðŸŒ™ weekend night reset",
              "description": "[scroll boleh, tapi tidur tetep nomor satu]\\n\\nhot shower, comfy clothes, airplane mode kalau perlu. tulis satu hal yang bikin kamu senyum hari ini.\\n\\n> good night â€” besok santai lagi, no pressure. | by server dev <@399393175904714752>",
              "color": 8947848,
              "thumbnail": {"url": "https://cdn.discordapp.com/emojis/692428734822645770.gif"},
              "footer": {"text": "see u tomorrow, same vibe âœ¨", "icon_url": "https://cdn.discordapp.com/emojis/692428869338931240.png"},
              "timestamp": "$TS"
            }]
          }
          JSON